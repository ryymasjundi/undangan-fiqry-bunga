<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Undangan Fiqry & Bunga</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.cdnfonts.com/css/ocean-trace" rel="stylesheet">

  <!-- Tambahan CSS untuk bunga jatuh overlay -->
  <style>
    .petal {
      position: fixed;
      top: -30px;
      width: 20px;
      height: 20px;
      border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
      opacity: 0.8;
      pointer-events: none;
      animation: fall linear infinite;
      background: radial-gradient(circle at 30% 30%, #ffb6c1 0%, #ff69b4 80%);
    }

    @keyframes fall {
      0% { transform: translateY(-20px) rotate(0deg); opacity: 1; }
      100% { transform: translateY(800px) rotate(360deg); opacity: 0; }
    }
  </style>
</head>
<body>
  <audio id="music" src="assets/music.mp3" loop></audio>

  <!-- Halaman Pembuka -->
  <section id="openingScreen" class="center">
    <div class="opening-box">
      <h1 class="title">Undangan Pernikahan<br><span>Fiqry & Bunga</span></h1>
      <p class="date">Sabtu, 06 Juni 2026</p>
      <p class="guest-name" id="guestName">Kepada Yth. <br> Tamu Undangan</p>
      <button id="openInvitation">Buka Undangan</button>
    </div>
  </section>

  <!-- Isi Undangan -->
  <section id="content" style="display:none;">
    <div class="hero">
      <div class="overlay"></div>
      <div class="hero-text">
        <h2>Fiqry & Bunga</h2>
        <p>06-06-2026 â€¢ 10.00 WIB</p>
      </div>
    </div>

    <div class="section">
      <h3>Dengan Hormat</h3>
      <p>Assalamuâ€™alaikum Warahmatullahi Wabarakatuh, Dengan memohon rahmat dan ridho Allah SWT, Kami Mengundang Bapak/Ibu/Saudara/i, untuk menghadiri acara pernikahan kami.</p>
      <div class="couple">
        <div><h4>Fiqry Masjundi</h4></div>
        <p class="and">&amp;</p>
        <div><h4>Bunga Edelweiss</h4></div>
      </div>

      <p class="info">
        Acara akan dilaksanakan pada:<br><br>
        <b>Sabtu, 06 Juni 2026</b><br>
        Pukul 10.00 WIB<br>
        <br>di<br>
        <b>Masjid Cikal Harapan</b><br><br>
        Kami sangat berharap kehadiran dan doa restu Bapak/Ibu/Saudara/i.
      </p>
    </div>

    <div class="gallery">
      <img src="assets/Prewed1.png" alt="Prewed 1">
      <img src="assets/Prewed2.png" alt="Prewed 2">
      <img src="assets/Prewed3.png" alt="Prewed 3">
    </div>
    
    <div class="section">
      <h3>Lokasi Acara</h3>
      <div class="maps-container">
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d9734.641698058946!2d107.04032565776114!3d-6.454125749903912!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e69963a14e6549b%3A0x5801f1af01ece425!2sMasjid%20Cikal%20Harapan!5e0!3m2!1sid!2sid!4v1760955812237!5m2!1sid!2sid" width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
      </div>

      <div class="section rsvp">
  <h3>RSVP</h3>
  <p>Mohon konfirmasi kehadiran Anda dengan mengisi form di bawah ini:</p>
  <form id="rsvpForm" class="rsvp-form">
    <input type="text" name="nama" placeholder="Nama Lengkap" required>
    <select name="status" required>
      <option value="">Pilih Kehadiran</option>
      <option value="Hadir">Hadir</option>
      <option value="Tidak Hadir">Tidak Hadir</option>
    </select>
    <textarea name="pesan" placeholder="Ucapan atau doa untuk pengantin"></textarea>
    <button type="submit">Kirim Konfirmasi</button>
  </form>
  <p id="rsvpMessage" class="rsvp-message"></p>
</div>

<script>
document.getElementById('rsvpForm').addEventListener('submit', async (e) => {
  e.preventDefault();
  const form = e.target;
  const data = {
    nama: form.nama.value,
    status: form.status.value,
    pesan: form.pesan.value
  };

  const url = "https://script.google.com/macros/s/AKfycbzn7arlheB2ZjIrDtLc2A5OmyCAM8_rZE0atO_1SP1wo4VGJO_5Om9U4zi2CBHZApGd/exec"; // ganti dengan URL dari Apps Script
  const message = document.getElementById('rsvpMessage');

  message.textContent = "Mengirim data...";
  try {
    const res = await fetch(url, {
      method: 'POST',
      body: JSON.stringify(data),
    });
    if (res.ok) {
      message.textContent = "Terima kasih! Kehadiran Anda telah tercatat ðŸ’•";
      form.reset();
    } else {
      message.textContent = "Terjadi kesalahan. Silakan coba lagi.";
    }
  } catch (err) {
    message.textContent = "Gagal mengirim. Cek koneksi Anda.";
  }
});
</script>

    <footer>
      <p>Keluarga,<br>Fiqry & Bunga</p>
    </footer>
  </section>

  <!-- Tambahan JS untuk musik & bunga jatuh overlay -->
  <script>
    // Musik & tombol buka undangan
    const openBtn = document.getElementById("openInvitation");
    const openingScreen = document.getElementById("openingScreen");
    const content = document.getElementById("content");
    const music = document.getElementById("music");

    openBtn.addEventListener("click", () => {
      openingScreen.style.display = "none";
      content.style.display = "block";
      music.play();
    });

    document.addEventListener("visibilitychange", function() {
      if(document.hidden) music.pause();
      else if(content.style.display === "block") music.play();
    });

    // ===== Bunga jatuh overlay =====
    const colors = ['#ffb6c1', '#ffc0cb', '#ff69b4', '#ff82ab', '#ff99c8'];

    for (let i = 0; i < 40; i++) {
      const petal = document.createElement('div');
      petal.className = 'petal';
      
      // posisi horizontal acak
      petal.style.left = Math.random() * window.innerWidth + 'px';
      
      // ukuran acak
      const size = 15 + Math.random() * 15;
      petal.style.width = size + 'px';
      petal.style.height = size + 'px';
      
      // warna acak
      const color = colors[Math.floor(Math.random() * colors.length)];
      petal.style.background = `radial-gradient(circle at 30% 30%, ${color} 0%, ${color} 80%)`;
      
      // durasi dan delay animasi acak
      petal.style.animationDuration = 6 + Math.random() * 6 + 's';
      petal.style.animationDuration = 10 + Math.random() * 10 + 's';
      
      // rotasi acak awal
      petal.style.transform = `rotate(${Math.random()*360}deg)`;

      document.body.appendChild(petal);
    }
  </script>
</body>
</html>
